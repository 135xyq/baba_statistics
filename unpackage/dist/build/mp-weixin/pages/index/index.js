(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"041f":function(t,n,e){"use strict";var o=e("9c60"),i=e.n(o);i.a},"16bc":function(t,n,e){"use strict";e.r(n);var o=e("fb67"),i=e.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},"8f52":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={uAvatar:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(e.bind(null,"b88f"))},uList:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-list/u-list")]).then(e.bind(null,"3833"))},uListItem:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(e.bind(null,"91c8"))},uCell:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(e.bind(null,"e567"))}},i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.dataList.length),o=e>0?t.__map(t.dataList,(function(n,e){var o=t.__get_orig(n),i=t.formateDate(n.time);return{$orig:o,m0:i}})):null;t.$mp.data=Object.assign({},{$root:{g0:e,l0:o}})},a=[]},"9c60":function(t,n,e){},df9d:function(t,n,e){"use strict";e.r(n);var o=e("8f52"),i=e("16bc");for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("041f");var u=e("f0c5"),s=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);n["default"]=s.exports},efab:function(t,n,e){"use strict";(function(t,n){var o=e("4ea4");e("c541"),e("a9ff");o(e("66fd"));var i=o(e("df9d"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},fb67:function(t,n,e){"use strict";(function(t,o){var i=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("530d")),u=i(e("b010")),s={data:function(){return{imgSrc:a.default,openid:"",total:0,dataList:[]}},onShow:function(){var n,e;if(null!==(n=this.$store.state.userInfo)&&void 0!==n&&null!==(e=n.userInfo)&&void 0!==e&&e.openid){var o,i=null===(o=this.$store.state.userInfo)||void 0===o?void 0:o.userInfo;this.openid=i.openid,this.openid&&(this.getTotal(),this.getTodayList())}else t.switchTab({url:"/pages/login/login"})},methods:{formateDate:u.default,getTodayList:function(){var t=this;o.callFunction({name:"get_today_thing",data:{openid:this.openid},success:function(n){t.dataList=n.result.data}})},getTotal:function(){var t=this;o.callFunction({name:"thing_count",data:{openid:this.openid},success:function(n){t.total=n.result.data}})},onDelete:function(n){var e=this;t.showModal({title:"提示",content:"你是不是想要偷偷删除拉屎记录？拉屎大王还想耍赖？",cancelText:"不是哒",confirmText:"就耍赖",success:function(i){var a,u;if(i.confirm)if(e.openid)o.callFunction({name:"delete_thing",data:n,success:function(n){e.getTotal(),e.getTodayList(),t.showToast({title:"你差点就成为拉屎之王了，可惜了",icon:"none",duration:2e3})}});else if(null!==(a=e.$store.state.userInfo)&&void 0!==a&&null!==(u=a.userInfo)&&void 0!==u&&u.openid){var s,l=null===(s=e.$store.state.userInfo)||void 0===s?void 0:s.userInfo;e.openid=l.openid,e.openid&&(e.getTotal(),e.getTodayList())}else t.switchTab({url:"/pages/login/login"});else i.cancel&&t.showToast({title:"你真是个诚实的拉屎大王!",icon:"none",duration:2e3})}})},onAdd:function(){var n=this;t.showModal({title:"提示",content:"你已经是拉屎大王了，确定还要拉粑粑吗？",success:function(e){var i,a;if(e.confirm)if(n.openid)o.callFunction({name:"thing_add",data:{openid:n.openid},success:function(e){n.getTotal(),n.getTodayList(),t.showToast({title:"你真是拉屎大王,你今天已经拉了".concat(e.result.data,"次粑粑了！"),icon:"none",duration:2e3})}});else if(null!==(i=n.$store.state.userInfo)&&void 0!==i&&null!==(a=i.userInfo)&&void 0!==a&&a.openid){var u,s=null===(u=n.$store.state.userInfo)||void 0===u?void 0:u.userInfo;n.openid=s.openid,n.openid&&(n.getTotal(),n.getTodayList())}else t.switchTab({url:"/pages/login/login"});else e.cancel&&t.showToast({title:"差点让你成为拉屎大王!",icon:"none",duration:2e3})}})}}};n.default=s}).call(this,e("543d")["default"],e("a9ff")["default"])}},[["efab","common/runtime","common/vendor"]]]);