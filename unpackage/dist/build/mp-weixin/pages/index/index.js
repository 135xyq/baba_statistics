(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1af6":function(t,e,n){"use strict";var o=n("271f"),i=n.n(o);i.a},"21c4":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"6e1f"))},uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"cfde"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"5c83"))},uCell:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(n.bind(null,"f83b"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.dataList.length),o=n>0?t.__map(t.dataList,(function(e,n){var o=t.__get_orig(e),i=t.formateDate(e.time);return{$orig:o,m0:i}})):null;t.$mp.data=Object.assign({},{$root:{g0:n,l0:o}})},a=[]},"271f":function(t,e,n){},"3e36":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("45d3"),n("a9ff");o(n("66fd"));var i=o(n("992f"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"751f":function(t,e,n){"use strict";(function(t,o){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("46d3")),u=i(n("ea7f")),s={data:function(){return{imgSrc:a.default,openid:"",total:0,dataList:[]}},onShow:function(){var e,n;if(null!==(e=this.$store.state.userInfo)&&void 0!==e&&null!==(n=e.userInfo)&&void 0!==n&&n.openid){var o,i=null===(o=this.$store.state.userInfo)||void 0===o?void 0:o.userInfo;this.openid=i.openid,this.openid&&(this.getTotal(),this.getTodayList())}else t.switchTab({url:"/pages/login/login"})},methods:{formateDate:u.default,getTodayList:function(){var t=this;o.callFunction({name:"get_today_thing",data:{openid:this.openid},success:function(e){t.dataList=e.result.data}})},getTotal:function(){var t=this;o.callFunction({name:"thing_count",data:{openid:this.openid},success:function(e){t.total=e.result.data}})},onDelete:function(e){var n=this;t.showModal({title:"提示",content:"你是不是想要偷偷删除拉屎记录？拉屎大王还想耍赖？",cancelText:"不是哒",confirmText:"就耍赖",success:function(i){var a,u;if(i.confirm)if(n.openid)o.callFunction({name:"delete_thing",data:e,success:function(e){n.getTotal(),n.getTodayList(),t.showToast({title:"你差点就成为拉屎之王了，可惜了",icon:"none",duration:2e3})}});else if(null!==(a=n.$store.state.userInfo)&&void 0!==a&&null!==(u=a.userInfo)&&void 0!==u&&u.openid){var s,l=null===(s=n.$store.state.userInfo)||void 0===s?void 0:s.userInfo;n.openid=l.openid,n.openid&&(n.getTotal(),n.getTodayList())}else t.switchTab({url:"/pages/login/login"});else i.cancel&&t.showToast({title:"你真是个诚实的拉屎大王!",icon:"none",duration:2e3})}})},onAdd:function(){var e=this;t.showModal({title:"提示",content:"你已经是拉屎大王了，确定还要拉粑粑吗？",success:function(n){var i,a;if(n.confirm)if(e.openid)o.callFunction({name:"thing_add",data:{openid:e.openid},success:function(n){e.getTotal(),e.getTodayList(),t.showToast({title:"你真是拉屎大王,你今天已经拉了".concat(n.result.data,"次粑粑了！"),icon:"none",duration:2e3})}});else if(null!==(i=e.$store.state.userInfo)&&void 0!==i&&null!==(a=i.userInfo)&&void 0!==a&&a.openid){var u,s=null===(u=e.$store.state.userInfo)||void 0===u?void 0:u.userInfo;e.openid=s.openid,e.openid&&(e.getTotal(),e.getTodayList())}else t.switchTab({url:"/pages/login/login"});else n.cancel&&t.showToast({title:"差点让你成为拉屎大王!",icon:"none",duration:2e3})}})}}};e.default=s}).call(this,n("543d")["default"],n("a9ff")["default"])},"992f":function(t,e,n){"use strict";n.r(e);var o=n("21c4"),i=n("c1a2");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("1af6");var u=n("f0c5"),s=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=s.exports},c1a2:function(t,e,n){"use strict";n.r(e);var o=n("751f"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a}},[["3e36","common/runtime","common/vendor"]]]);